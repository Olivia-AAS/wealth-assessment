<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>è´¢å¯Œæ½œåŠ›æµ‹è¯„</title>
    <!-- Chart.js for the Radar Chart -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-gold: #FFD700;
            --secondary-gold: #FDB931;
            --deep-purple: #2E0E48;
            --light-purple: #5D3E8C;
            --text-dark: #333333;
            --text-light: #FFFFFF;
            --glass-bg: rgba(255, 255, 255, 0.95);
            --glass-border: rgba(255, 255, 255, 0.3);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'PingFang SC', 'Helvetica Neue', 'Arial', sans-serif;
            background: linear-gradient(135deg, var(--deep-purple) 0%, #4B2468 50%, var(--secondary-gold) 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            color: var(--text-dark);
            overflow-x: hidden;
        }

        /* Mobile Container Simulation */
        #app-container {
            width: 100%;
            max-width: 480px;
            min-height: 100vh;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
            overflow-y: auto;
            box-shadow: 0 0 40px rgba(0,0,0,0.3);
        }

        /* Section Visibility Handling */
        .page-section {
            display: none;
            padding: 24px;
            animation: fadeIn 0.5s ease-out;
            min-height: 100vh;
            flex-direction: column;
        }

        .page-section.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Welcome Page --- */
        .welcome-content {
            text-align: center;
            margin-top: auto;
            margin-bottom: auto;
            color: var(--text-light);
        }

        .main-title {
            font-size: 2.4rem;
            font-weight: 800;
            margin-bottom: 10px;
            background: linear-gradient(to right, #fff, #FFD700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .sub-title {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 40px;
            letter-spacing: 1px;
        }

        .intro-card {
            background: var(--glass-bg);
            border-radius: 20px;
            padding: 30px;
            color: var(--text-dark);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 40px;
        }

        .intro-text {
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 20px;
            text-align: left;
        }

        .highlight {
            color: #8E44AD;
            font-weight: bold;
        }

        /* Buttons */
        .btn-primary {
            background: linear-gradient(90deg, #FDB931 0%, #FFD700 100%);
            border: none;
            padding: 16px 40px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--deep-purple);
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(253, 185, 49, 0.4);
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
        }

        .btn-primary:active {
            transform: scale(0.98);
            box-shadow: 0 2px 10px rgba(253, 185, 49, 0.3);
        }

        .btn-secondary {
            background: transparent;
            border: 2px solid var(--primary-gold);
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: bold;
            color: var(--text-dark);
            cursor: pointer;
            margin-top: 10px;
            width: 100%;
        }

        /* --- Quiz Page --- */
        .quiz-header {
            margin-bottom: 30px;
        }

        .progress-container {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.3);
            border-radius: 4px;
            margin-bottom: 15px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--primary-gold);
            width: 0%;
            transition: width 0.3s ease;
        }

        .step-counter {
            color: var(--text-light);
            font-size: 0.9rem;
            text-align: right;
        }

        .question-card {
            background: var(--glass-bg);
            border-radius: 20px;
            padding: 30px 24px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            margin-bottom: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .question-badge {
            display: inline-block;
            background: var(--light-purple);
            color: #fff;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin-bottom: 16px;
            align-self: flex-start;
        }

        .question-text {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 30px;
            line-height: 1.5;
            color: var(--text-dark);
        }

        .options-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option-btn {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            padding: 16px 20px;
            border-radius: 12px;
            text-align: left;
            font-size: 1rem;
            color: var(--text-dark);
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .option-btn:hover {
            border-color: var(--secondary-gold);
            background: #fffbf0;
        }

        .option-btn:active {
            background: var(--primary-gold);
            border-color: var(--primary-gold);
            color: var(--deep-purple);
            font-weight: 600;
        }

        /* --- Result Page --- */
        .result-container {
            background: #fff;
            border-radius: 20px 20px 0 0;
            min-height: 90vh;
            margin: 20px -24px -24px -24px;
            padding: 30px 24px;
            position: relative;
            box-shadow: 0 -10px 30px rgba(0,0,0,0.2);
        }

        .score-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .total-score {
            font-size: 3.5rem;
            font-weight: 800;
            color: var(--light-purple);
            line-height: 1;
        }

        .score-label {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
        }

        .star-rating {
            font-size: 1.5rem;
            color: var(--primary-gold);
            margin: 10px 0;
            letter-spacing: 5px;
        }

        .level-badge {
            background: var(--deep-purple);
            color: var(--primary-gold);
            padding: 6px 20px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 20px;
        }

        .chart-container {
            position: relative;
            height: 250px;
            width: 100%;
            margin-bottom: 30px;
        }

        .analysis-box {
            background: #f8f9fa;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid var(--light-purple);
        }

        .analysis-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--deep-purple);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .analysis-text {
            font-size: 0.95rem;
            color: #555;
            line-height: 1.6;
        }

        /* Personal Brand Section Styles */
        .personal-brand-card {
            background: #ffffff;
            border-radius: 24px;
            padding: 30px 20px;
            margin-bottom: 30px;
            text-align: center;
            position: relative;
            box-shadow: 0 10px 40px rgba(46, 14, 72, 0.08);
            border: 1px solid rgba(253, 185, 49, 0.2);
            overflow: hidden;
        }

        .personal-brand-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, var(--secondary-gold), var(--primary-gold), var(--secondary-gold));
        }

        .brand-header {
            margin-bottom: 20px;
        }

        .brand-title {
            font-size: 1.3rem;
            color: var(--deep-purple);
            font-weight: 800;
            margin-bottom: 8px;
        }

        .brand-subtitle {
            font-size: 1rem;
            color: #555;
            line-height: 1.5;
        }

        .brand-name-highlight {
            color: var(--light-purple);
            font-weight: 800;
            font-size: 1.1rem;
        }

        .brand-tag {
            display: inline-block;
            background: rgba(253, 185, 49, 0.15);
            color: #8E44AD;
            padding: 4px 12px;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-bottom: 25px;
        }

        .qr-wrapper {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 0 auto 25px auto;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .qr-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
            border: 2px solid rgba(253, 185, 49, 0.3);
            box-shadow: 0 0 25px rgba(253, 185, 49, 0.25);
            z-index: 2;
            background: #fff;
        }

        .qr-glow-effect {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 220px;
            height: 220px;
            background: radial-gradient(circle, rgba(253, 185, 49, 0.15) 0%, transparent 70%);
            z-index: 1;
            animation: glowPulse 3s infinite;
        }

        @keyframes glowPulse {
            0% { opacity: 0.6; transform: translate(-50%, -50%) scale(0.95); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.05); }
            100% { opacity: 0.6; transform: translate(-50%, -50%) scale(0.95); }
        }

        .guide-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .guide-item {
            background: #fcfcfc;
            border: 1px solid #f0f0f0;
            padding: 12px 16px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
            text-align: left;
            transition: transform 0.2s;
        }

        .guide-item:active {
            transform: scale(0.98);
            background: #fffbf0;
        }

        .guide-icon {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .guide-text {
            font-size: 0.9rem;
            color: #444;
            line-height: 1.4;
        }

        .guide-text strong {
            color: var(--deep-purple);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        /* Confetti Animation */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #ffd700;
            animation: fall linear forwards;
            top: -20px;
            z-index: 999;
        }

        @keyframes fall {
            to { transform: translateY(100vh) rotate(720deg); }
        }

        /* Loading Spinner */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--deep-purple);
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 1000;
            color: white;
        }
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255,255,255,0.3);
            border-top: 5px solid var(--primary-gold);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

    </style>
</head>
<body>

    <div id="app-container">
        
        <!-- Welcome Page -->
        <section id="welcome-page" class="page-section active">
            <div class="welcome-content">
                <h1 class="main-title">è´¢å¯Œæ½œåŠ›æµ‹è¯„</h1>
                <p class="sub-title">Exploring Wealth Energy</p>
                
                <div class="intro-card">
                    <p class="intro-text">
                        ä½ æ˜¯å¦è§‰å¾—è‡ªå·±å¾ˆåŠªåŠ›ï¼Œä½†è´¢å¯Œæ€»æ˜¯ç•™ä¸ä½ï¼Ÿ<br>
                        æˆ–è€…ä½ æ¸´æœ›çªç ´ç°åœ¨çš„æ”¶å…¥ç“¶é¢ˆï¼Œå´æ‰¾ä¸åˆ°æ–¹å‘ï¼Ÿ<br><br>
                        æœ¬æµ‹è¯„åŸºäº<span class="highlight">é‡‘é’±å¿ƒç†å­¦</span>ä¸<span class="highlight">æ˜¾åŒ–æ³•åˆ™</span>ï¼Œé€šè¿‡12é“æ·±å±‚æ½œæ„è¯†é—®ç­”ï¼Œæ­ç¤ºä½ å½“å‰çš„è´¢å¯Œèƒ½é‡å±‚çº§ã€‚
                    </p>
                    <ul style="text-align: left; padding-left: 20px; margin-bottom: 20px; color: #555; font-size: 0.9rem;">
                        <li>ğŸ” è¯Šæ–­4å¤§è´¢å¯Œç»´åº¦</li>
                        <li>ğŸ“Š ç”Ÿæˆä¸“å±é›·è¾¾å›¾</li>
                        <li>ğŸ’¡ è·å–å®šåˆ¶åŒ–å»ºè®®</li>
                    </ul>
                </div>

                <button class="btn-primary" onclick="startQuiz()">å¼€å§‹æµ‹è¯„</button>
                <p style="margin-top: 15px; font-size: 0.8rem; opacity: 0.7;">å·²æœ‰ 10w+ äººå‚ä¸æµ‹è¯„</p>
            </div>
        </section>

        <!-- Quiz Page -->
        <section id="quiz-page" class="page-section">
            <div class="quiz-header">
                <div class="progress-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <div class="step-counter">
                    <span id="current-question-num">1</span> / 12
                </div>
            </div>

            <div class="question-card">
                <span id="dimension-badge" class="question-badge">é‡‘é’±ä¿¡å¿µ</span>
                <h2 id="question-text" class="question-text">é¢˜ç›®åŠ è½½ä¸­...</h2>
                
                <div id="options-container" class="options-list">
                    <!-- Options injected via JS -->
                </div>
            </div>
        </section>

        <!-- Loading Screen -->
        <div id="loading-screen" class="loading-overlay">
            <div class="spinner"></div>
            <p>æ­£åœ¨åˆ†ææ‚¨çš„è´¢å¯Œèƒ½é‡...</p>
        </div>

        <!-- Result Page -->
        <section id="result-page" class="page-section" style="padding-top: 0;">
            <div class="result-container" id="result-content">
                <div class="score-header">
                    <div class="score-label">æ‚¨çš„è´¢å¯Œæ½œåŠ›æŒ‡æ•°</div>
                    <div class="total-score" id="total-score">0</div>
                    <div class="star-rating" id="star-rating">â­â­â­</div>
                    <div class="level-badge" id="level-title">å¾…æ¿€æ´»</div>
                </div>

                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>

                <div class="analysis-box">
                    <div class="analysis-title">ğŸ“Š ç»´åº¦æ·±åº¦è§£æ</div>
                    <p class="analysis-text" id="dimension-analysis">åˆ†æç”Ÿæˆä¸­...</p>
                </div>

                <div class="analysis-box" style="border-left-color: var(--primary-gold); background: #fffbf0;">
                    <div class="analysis-title">ğŸ’¡ ä¸“å±å»ºè®®</div>
                    <p class="analysis-text" id="advice-text">å»ºè®®ç”Ÿæˆä¸­...</p>
                </div>

                <!-- Personal Brand Section (Replaced original CTA box) -->
                <div class="personal-brand-card">
                    <div class="brand-header">
                        <h3 class="brand-title">æƒ³è¦æ¿€æ´»ä½ çš„è´¢å¯Œæ½œåŠ›ï¼Ÿ</h3>
                        <p class="brand-subtitle">è·Ÿéš <span class="brand-name-highlight">å¥¥è‰Olivia</span>ï¼Œå¼€å¯è´¢å¯Œæ˜¾åŒ–ä¹‹æ—…</p>
                    </div>

                    <div class="brand-tag">æ˜¾åŒ–è´¢å¯Œæ•™ç»ƒ | å¸®åŠ©ä½ æ¿€æ´»è´¢å¯Œæ½œåŠ›</div>

                    <div class="qr-wrapper">
                        <div class="qr-glow-effect"></div>
                        <img src="https://cdn.gooo.ai/user-files/647c26988511bfc3494a5bb2a8994c14ce3f79195633a6fb97dba4bd259b3b81@chat" alt="å¥¥è‰OliviaäºŒç»´ç " class="qr-img">
                    </div>

                    <div class="guide-list">
                        <div class="guide-item">
                            <span class="guide-icon">ğŸŸ¢</span>
                            <span class="guide-text">æ‰«ç åŠ å¾®ä¿¡ï¼Œå…è´¹é¢†å–ã€Šè´¢å¯Œæ˜¾åŒ–å·¥å…·åŒ…ã€‹</span>
                        </div>
                        <div class="guide-item">
                            <span class="guide-icon">ğŸ“•</span>
                            <span class="guide-text">åœ¨å°çº¢ä¹¦æœç´¢ã€<strong>å¥¥è‰Olivia</strong>ã€‘äº†è§£æ›´å¤šæ˜¾åŒ–æ–¹æ³•</span>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn-primary" onclick="alert('è¯·æˆªå›¾ä¿å­˜æ­¤é¡µé¢åˆ†äº«ï¼')">ä¿å­˜ç»“æœ</button>
                    <button class="btn-secondary" onclick="restartQuiz()">é‡æ–°æµ‹è¯„</button>
                </div>
            </div>
        </section>

    </div>

    <script>
        // --- Data ---
        const questions = [
            // Dimension 1: é‡‘é’±ä¿¡å¿µ (Belief)
            {
                id: 1,
                dim: 'belief',
                text: "å½“ä½ æƒ³åˆ°'èµšå¤§é’±'æ—¶ï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼Ÿ",
                options: [
                    { text: "å…´å¥‹æœŸå¾…ï¼Œæˆ‘å€¼å¾—æ‹¥æœ‰è´¢å¯Œ", score: 10 },
                    { text: "æœ‰ç‚¹ä¸å®‰ï¼Œæ‹…å¿ƒè‡ªå·±åšä¸åˆ°", score: 5 },
                    { text: "è§‰å¾—ä¸ç°å®ï¼Œå¯Œäººéƒ½æ˜¯æœ‰èƒŒæ™¯çš„", score: 0 }
                ]
            },
            {
                id: 2,
                dim: 'belief',
                text: "ä½ å¦‚ä½•çœ‹å¾…é‡‘é’±ï¼Ÿ",
                options: [
                    { text: "é‡‘é’±æ˜¯èƒ½é‡æµåŠ¨ï¼Œæˆ‘å¯ä»¥åˆ›é€ è´¢å¯Œ", score: 10 },
                    { text: "é‡‘é’±å¾ˆé‡è¦ä½†å¾ˆéš¾èµš", score: 5 },
                    { text: "è°ˆé’±å¾ˆä¿—æ°”ï¼Œæˆ‘ä¸å¤ªåœ¨æ„", score: 0 }
                ]
            },
            {
                id: 3,
                dim: 'belief',
                text: "å½“åˆ«äººæ¯”ä½ å¯Œæœ‰æ—¶ï¼Œä½ çš„æ„Ÿå—æ˜¯ï¼Ÿ",
                options: [
                    { text: "å—åˆ°æ¿€åŠ±ï¼Œä»–ä»¬èƒ½åšåˆ°æˆ‘ä¹Ÿå¯ä»¥", score: 10 },
                    { text: "æœ‰ç‚¹ç¾¡æ…•ï¼Œä½†è§‰å¾—è‡ªå·±æ¡ä»¶ä¸å¦‚ä»–ä»¬", score: 5 },
                    { text: "è§‰å¾—ä¸å…¬å¹³æˆ–å«‰å¦’", score: 0 }
                ]
            },
            // Dimension 2: è¡ŒåŠ¨æ‰§è¡ŒåŠ› (Action)
            {
                id: 4,
                dim: 'action',
                text: "ä½ æœ‰èµšé’±æƒ³æ³•æ—¶ï¼Œé€šå¸¸ä¼šï¼Ÿ",
                options: [
                    { text: "ç«‹å³åˆ¶å®šè®¡åˆ’å¹¶å¼€å§‹è¡ŒåŠ¨", score: 10 },
                    { text: "æƒ³å¾ˆä¹…ï¼Œå¶å°”å°è¯•ä¸€ä¸‹", score: 5 },
                    { text: "æƒ³æƒ³è€Œå·²ï¼Œå¾ˆå°‘çœŸæ­£å»åš", score: 0 }
                ]
            },
            {
                id: 5,
                dim: 'action',
                text: "é¢å¯¹èµšé’±æœºä¼šæ—¶ï¼Œä½ çš„ååº”æ˜¯ï¼Ÿ",
                options: [
                    { text: "å¿«é€Ÿè¯„ä¼°é£é™©åæœæ–­è¡ŒåŠ¨", score: 10 },
                    { text: "åå¤çŠ¹è±«ï¼Œæ‹…å¿ƒå¤±è´¥", score: 5 },
                    { text: "æ‰¾å„ç§ç†ç”±è¯´æœè‡ªå·±ä¸é€‚åˆ", score: 0 }
                ]
            },
            {
                id: 6,
                dim: 'action',
                text: "ä½ çš„æ—¶é—´ç®¡ç†èƒ½åŠ›å¦‚ä½•ï¼Ÿ",
                options: [
                    { text: "æœ‰æ˜ç¡®ç›®æ ‡å’Œè®¡åˆ’ï¼Œæ‰§è¡ŒåŠ›å¼º", score: 10 },
                    { text: "æœ‰è®¡åˆ’ä½†ç»å¸¸æ‹–å»¶", score: 5 },
                    { text: "æ¯”è¾ƒéšæ€§ï¼Œèµ°ä¸€æ­¥çœ‹ä¸€æ­¥", score: 0 }
                ]
            },
            // Dimension 3: æ˜¾åŒ–è®¤çŸ¥ (Manifestation)
            {
                id: 7,
                dim: 'manifestation',
                text: "ä½ ç›¸ä¿¡'å¿ƒæƒ³äº‹æˆ'å—ï¼Ÿ",
                options: [
                    { text: "ç›¸ä¿¡ï¼Œå¹¶ä¸”çŸ¥é“å¦‚ä½•ç§‘å­¦æ˜¾åŒ–", score: 10 },
                    { text: "åŠä¿¡åŠç–‘ï¼Œè¯•è¿‡ä½†æ•ˆæœä¸æ˜æ˜¾", score: 5 },
                    { text: "ä¸å¤ªç›¸ä¿¡ï¼Œè§‰å¾—æ˜¯å¿ƒç†å®‰æ…°", score: 0 }
                ]
            },
            {
                id: 8,
                dim: 'manifestation',
                text: "ä½ å¦‚ä½•çœ‹å¾…'æ˜¾åŒ–è´¢å¯Œ'ï¼Ÿ",
                options: [
                    { text: "æ˜¾åŒ–+è¡ŒåŠ¨=ç»“æœï¼Œæˆ‘æ„¿æ„å­¦ä¹ æ–¹æ³•", score: 10 },
                    { text: "å¬è¯´è¿‡ä½†ä¸çŸ¥é“å…·ä½“æ€ä¹ˆåš", score: 5 },
                    { text: "æ²¡å¬è¿‡æˆ–è§‰å¾—æ˜¯ç„å­¦", score: 0 }
                ]
            },
            {
                id: 9,
                dim: 'manifestation',
                text: "ä½ æœ‰æ˜ç¡®çš„è´¢å¯Œç›®æ ‡å—ï¼Ÿ",
                options: [
                    { text: "æœ‰å…·ä½“æ•°å­—å’Œå®ç°æ—¶é—´è¡¨", score: 10 },
                    { text: "æœ‰å¤§æ¦‚æƒ³æ³•ä½†ä¸å¤Ÿæ¸…æ™°", score: 5 },
                    { text: "æ²¡æƒ³è¿‡æˆ–è§‰å¾—æƒ³äº†ä¹Ÿæ²¡ç”¨", score: 0 }
                ]
            },
            // Dimension 4: èµ„æºæ•´åˆ (Resources)
            {
                id: 10,
                dim: 'resources',
                text: "é‡åˆ°é—®é¢˜æ—¶ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { text: "ä¸»åŠ¨å¯»æ±‚å¸®åŠ©å’Œèµ„æº", score: 10 },
                    { text: "è‡ªå·±æ‘¸ç´¢ï¼Œä¸å¤ªæ„¿æ„éº»çƒ¦åˆ«äºº", score: 5 },
                    { text: "å®¹æ˜“æ”¾å¼ƒæˆ–æŠ±æ€¨", score: 0 }
                ]
            },
            {
                id: 11,
                dim: 'resources',
                text: "ä½ çš„äººé™…ç½‘ç»œå¦‚ä½•ï¼Ÿ",
                options: [
                    { text: "è®¤è¯†å„é¢†åŸŸçš„äººï¼Œå–„äºåˆä½œ", score: 10 },
                    { text: "æœ‹å‹ä¸å¤šä½†å…³ç³»ä¸é”™", score: 5 },
                    { text: "æ¯”è¾ƒå°é—­ï¼Œä¸å¤ªç¤¾äº¤", score: 0 }
                ]
            },
            {
                id: 12,
                dim: 'resources',
                text: "ä½ å¦‚ä½•çœ‹å¾…å­¦ä¹ æŠ•èµ„ï¼Ÿ",
                options: [
                    { text: "æ„¿æ„ä¸ºæˆé•¿ä»˜è´¹ï¼ŒæŠ•èµ„è‡ªå·±", score: 10 },
                    { text: "ä¼šå­¦ä¹ ä½†æ›´å–œæ¬¢å…è´¹èµ„æº", score: 5 },
                    { text: "è§‰å¾—æ²¡å¿…è¦æˆ–èˆä¸å¾—èŠ±é’±", score: 0 }
                ]
            }
        ];

        const dimensionMap = {
            'belief': 'é‡‘é’±ä¿¡å¿µ',
            'action': 'è¡ŒåŠ¨æ‰§è¡ŒåŠ›',
            'manifestation': 'æ˜¾åŒ–è®¤çŸ¥',
            'resources': 'èµ„æºæ•´åˆ'
        };

        // --- State ---
        let currentQuestionIndex = 0;
        let answers = [];
        let chartInstance = null;

        // --- Logic ---

        function startQuiz() {
            showSection('quiz-page');
            renderQuestion();
        }

        function showSection(id) {
            document.querySelectorAll('.page-section').forEach(el => el.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo(0, 0);
        }

        function renderQuestion() {
            const q = questions[currentQuestionIndex];
            
            // Update UI
            document.getElementById('current-question-num').innerText = currentQuestionIndex + 1;
            const progressPercent = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progress-bar').style.width = `${progressPercent}%`;
            
            document.getElementById('dimension-badge').innerText = dimensionMap[q.dim];
            document.getElementById('question-text').innerText = q.text;

            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';

            q.options.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerText = opt.text;
                btn.onclick = () => selectOption(opt.score);
                // Slight delay for animation effect
                btn.style.animation = `fadeIn 0.3s ease-out ${index * 0.1}s backwards`;
                optionsContainer.appendChild(btn);
            });
        }

        function selectOption(score) {
            answers.push({ ...questions[currentQuestionIndex], score: score });
            
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            } else {
                finishQuiz();
            }
        }

        function finishQuiz() {
            document.getElementById('quiz-page').classList.remove('active');
            document.getElementById('loading-screen').style.display = 'flex';

            // Simulate calculation time
            setTimeout(() => {
                document.getElementById('loading-screen').style.display = 'none';
                calculateAndShowResults();
            }, 1500);
        }

        function calculateAndShowResults() {
            showSection('result-page');

            // 1. Calculate Scores
            let totalScore = 0;
            let dimScores = {
                'belief': 0,
                'action': 0,
                'manifestation': 0,
                'resources': 0
            };

            answers.forEach(a => {
                totalScore += a.score;
                dimScores[a.dim] += a.score;
            });

            // 2. Determine Level
            let levelTitle = "";
            let stars = "";
            let advice = "";
            let levelClass = ""; // Not used in CSS but good for logic expansion

            if (totalScore >= 90) {
                levelTitle = "è´¢å¯Œæ½œåŠ›ä¼˜ç§€";
                stars = "â­â­â­â­â­";
                advice = "ä½ çš„è´¢å¯Œèƒ½é‡éå¸¸å……æ²›ï¼ä½ æ‹¥æœ‰æä½³çš„è´¢å¯Œæ€ç»´å’Œæ‰§è¡ŒåŠ›ã€‚ç°åœ¨çš„ä½ éœ€è¦ä¸“æ³¨äº'æ æ†æ•ˆåº”'ï¼Œå­¦ä¹ å¦‚ä½•ç”¨æ›´å°‘çš„ç²¾åŠ›æ’¬åŠ¨æ›´å¤§çš„è´¢å¯Œï¼ŒåŒæ—¶ä¿æŒè§‰çŸ¥ï¼Œé˜²æ­¢å› è¿‡åº¦è‡ªä¿¡è€Œäº§ç”Ÿçš„ç›²ç‚¹ã€‚";
            } else if (totalScore >= 60) {
                levelTitle = "è´¢å¯Œæ½œåŠ›è‰¯å¥½";
                stars = "â­â­â­â­";
                advice = "ä½ çš„åŸºç¡€å¾ˆä¸é”™ï¼Œä½†åœ¨æŸäº›ç»´åº¦ä»æœ‰å¡ç‚¹ã€‚å¯èƒ½æ˜¯æœ‰æƒ³æ³•ä¸æ•¢è¡ŒåŠ¨ï¼Œæˆ–è€…æ˜¯è¡ŒåŠ¨äº†ä½†ç¼ºä¹ç­–ç•¥ã€‚å»ºè®®é’ˆå¯¹é›·è¾¾å›¾ä¸­çš„çŸ­æ¿è¿›è¡Œä¸“é¡¹æå‡ï¼Œæ‰“ç ´èˆ’é€‚åœˆï¼Œè´¢å¯Œå±‚çº§å°†å¾ˆå¿«è·ƒè¿ã€‚";
            } else if (totalScore >= 30) {
                levelTitle = "è´¢å¯Œæ½œåŠ›å¾…æ¿€æ´»";
                stars = "â­â­â­";
                advice = "ä½ å¯¹è´¢å¯Œæœ‰æ¸´æœ›ï¼Œä½†æ½œæ„è¯†é‡Œå¯èƒ½å­˜åœ¨é™åˆ¶æ€§ä¿¡å¿µï¼ˆå¦‚'èµšé’±å¾ˆéš¾'ï¼‰ã€‚è¿™äº›ä¿¡å¿µåœ¨é˜»ç¢ä½ çš„è¡ŒåŠ¨ã€‚å½“åŠ¡ä¹‹æ€¥æ˜¯æ¸…ç†å†…å¿ƒçš„åŒ®ä¹æ„Ÿï¼Œå»ºç«‹é…å¾—æ„Ÿï¼Œä»å°ç›®æ ‡å¼€å§‹ç§¯ç´¯æˆåŠŸä½“éªŒã€‚";
            } else {
                levelTitle = "è´¢å¯Œæ½œåŠ›å—é™";
                stars = "â­â­";
                advice = "ç›®å‰ä½ çš„è´¢å¯Œç®¡é“å¯èƒ½å¤„äºå µå¡çŠ¶æ€ã€‚è¿™é€šå¸¸æºäºå¯¹é‡‘é’±çš„è´Ÿé¢è®¤çŸ¥æˆ–ç¼ºä¹æ¸…æ™°ç›®æ ‡ã€‚ä½†è¿™æ­£æ˜¯æ”¹å˜çš„å¼€å§‹ï¼ä¸è¦æ°”é¦ï¼Œé€šè¿‡ç³»ç»Ÿçš„å­¦ä¹ å’Œç¯å¢ƒçš„æ”¹å˜ï¼Œä½ å®Œå…¨å¯ä»¥é‡å¡‘ä½ çš„è´¢å¯Œå‘½è¿ã€‚";
            }

            // 3. Update DOM
            document.getElementById('total-score').innerText = totalScore;
            document.getElementById('star-rating').innerText = stars;
            document.getElementById('level-title').innerText = levelTitle;
            document.getElementById('advice-text').innerText = advice;

            // Generate Dimension Analysis Text
            let analysisHtml = "";
            const scoresArray = [dimScores.belief, dimScores.action, dimScores.manifestation, dimScores.resources];
            const lowScoreIndex = scoresArray.indexOf(Math.min(...scoresArray));
            const highScoreIndex = scoresArray.indexOf(Math.max(...scoresArray));
            
            const labels = ['é‡‘é’±ä¿¡å¿µ', 'è¡ŒåŠ¨æ‰§è¡ŒåŠ›', 'æ˜¾åŒ–è®¤çŸ¥', 'èµ„æºæ•´åˆ'];
            
            analysisHtml += `ä½ çš„ä¼˜åŠ¿åœ¨äº<strong>${labels[highScoreIndex]}</strong>ï¼Œè¿™æ˜¯ä½ åˆ›é€ è´¢å¯Œçš„å‘åŠ¨æœºã€‚`;
            analysisHtml += `<br>ä½ éœ€è¦æå‡çš„æ˜¯<strong>${labels[lowScoreIndex]}</strong>ï¼Œè¿™å¯èƒ½æ˜¯ä½ ç›®å‰çš„è´¢å¯Œæ¼æ–—ã€‚`;
            
            document.getElementById('dimension-analysis').innerHTML = analysisHtml;

            // 4. Render Chart
            renderChart(dimScores);

            // 5. Fire Confetti
            createConfetti();
        }

        function renderChart(scores) {
            const ctx = document.getElementById('radarChart').getContext('2d');
            
            // Destroy existing chart if any
            if (chartInstance) {
                chartInstance.destroy();
            }

            chartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['é‡‘é’±ä¿¡å¿µ', 'è¡ŒåŠ¨åŠ›', 'æ˜¾åŒ–è®¤çŸ¥', 'èµ„æºæ•´åˆ'],
                    datasets: [{
                        label: 'è´¢å¯Œç»´åº¦å¾—åˆ†',
                        data: [scores.belief, scores.action, scores.manifestation, scores.resources],
                        backgroundColor: 'rgba(253, 185, 49, 0.4)',
                        borderColor: '#FFD700',
                        pointBackgroundColor: '#2E0E48',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#FFD700'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(0,0,0,0.1)' },
                            grid: { color: 'rgba(0,0,0,0.1)' },
                            pointLabels: {
                                font: { size: 12, family: 'PingFang SC' },
                                color: '#333'
                            },
                            suggestedMin: 0,
                            suggestedMax: 30,
                            ticks: { display: false } // Hide numbers on axis for cleaner look
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            answers = [];
            showSection('welcome-page');
        }

        function createConfetti() {
            const colors = ['#FFD700', '#FDB931', '#5D3E8C', '#ffffff'];
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                confetti.style.opacity = Math.random();
                document.body.appendChild(confetti);
                
                // Cleanup
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
        }
    </script>
</body>
</html>
